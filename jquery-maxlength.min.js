!function(t){"use strict";var e={maxLengthTemplate:"data-maxlength-template"};function n(n){t(n.target).next("["+e.maxLengthTemplate+"='true']").text("")}function a(e){var n=e.keyCode?e.keyCode:e.which,a=this.value.length,o=t(e.target).attr("maxlength");(n>=33||13==n||32==n)&&a>=o&&e.preventDefault()}function o(a){!function(a,o,l){0!=o?t(a.target).next("["+e.maxLengthTemplate+"='true']").text(function(t,e,n){return t.replace("{total}",e).replace("{maxLength}",n)}(a.data.text,o,l)):n(a)}(a,this.value.length,t(a.target).attr("maxlength"))}t.fn.maxlength=function(l){var r=t.extend({},t.fn.maxlength.defaults,l);return this.each(function(){var l=t(this);void 0!==l.attr("maxlength")&&(l.on("keypress",r,a),r.showTemplate&&(!function(n,a){t(a.template).attr(e.maxLengthTemplate,"true").css("color",a.color).css("font-size",a.fontSize).css("text-align",a.position).insertAfter(n)}(l,r),l.on("focusout",r,n),l.on("keyup",r,o)))}),this},t.fn.maxlength.defaults={text:"{total}/{maxLength}",position:"left",color:"grey",fontSize:"12px",template:"<div />",showTemplate:!0}}(jQuery);
